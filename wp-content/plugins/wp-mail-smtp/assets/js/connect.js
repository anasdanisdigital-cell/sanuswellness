'use strict';var WPMailSMTPConnect=window.WPMailSMTPConnect||(function(document,window,$){var el={$connectBtn:$('#wp-mail-smtp-setting-upgrade-license-button'),$connectKey:$('#wp-mail-smtp-setting-upgrade-license-key')};var app={init:function(){$(app.ready);},ready:function(){app.events();},events:function(){app.connectBtnClick();},connectBtnClick:function(){el.$connectBtn.on('click',function(){app.gotoUpgradeUrl();});},proAlreadyInstalled:function(res){return{title:wp_mail_smtp_connect.text.almost_done,content:res.data.message,icon:'"></i><img src="'+wp_mail_smtp_connect.plugin_url+'/assets/images/font-awesome/check-circle-solid-green.svg" style="width: 40px; height: 40px;"><i class="',type:'green',buttons:{confirm:{text:wp_mail_smtp_connect.text.plugin_activate_btn,btnClass:'btn-confirm',keys:['enter'],action:function(){window.location.reload();},},},};},gotoUpgradeUrl:function(){var data={action:'wp_mail_smtp_connect_url',key:el.$connectKey.val(),nonce:wp_mail_smtp_connect.nonce,};$.post(wp_mail_smtp_connect.ajax_url,data).done(function(res){if(res.success){if(res.data.reload){$.alert(app.proAlreadyInstalled(res));return;}
window.location.href=res.data.url;return;}
$.alert({title:wp_mail_smtp_connect.text.oops,content:res.data.message,icon:'"></i><img src="'+wp_mail_smtp_connect.plugin_url+'/assets/images/font-awesome/exclamation-circle-solid-orange.svg" style="width: 40px; height: 40px;"><i class="',type:'orange',buttons:{confirm:{text:wp_mail_smtp_connect.text.ok,btnClass:'btn-confirm',keys:['enter'],},},});}).fail(function(xhr){app.failAlert(xhr);});},failAlert:function(xhr){$.alert({title:wp_mail_smtp_connect.text.oops,content:wp_mail_smtp_connect.text.server_error+'<br>'+xhr.status+' '+xhr.statusText+' '+xhr.responseText,icon:'"></i><img src="'+wp_mail_smtp_connect.plugin_url+'/assets/images/font-awesome/exclamation-circle-regular-red.svg" style="width: 40px; height: 40px;"><i class="',type:'red',buttons:{confirm:{text:wp_mail_smtp_connect.text.ok,btnClass:'btn-confirm',keys:['enter'],},},});},};return app;}(document,window,jQuery));WPMailSMTPConnect.init();