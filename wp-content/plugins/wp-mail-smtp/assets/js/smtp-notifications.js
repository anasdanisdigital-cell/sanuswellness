'use strict';var WPMailSMTPAdminNotifications=window.WPMailSMTPAdminNotifications||(function(document,window,$){var el={$notifications:$('#wp-mail-smtp-notifications'),$nextButton:$('#wp-mail-smtp-notifications .navigation .next'),$prevButton:$('#wp-mail-smtp-notifications .navigation .prev'),$adminBarCounter:$('#wp-admin-bar-wp-mail-smtp-menu .wp-mail-smtp-admin-bar-menu-notification-counter'),};var app={init:function(){$(app.ready);},ready:function(){app.updateNavigation();app.events();},events:function(){el.$notifications.on('click','.dismiss',app.dismiss).on('click','.next',app.navNext).on('click','.prev',app.navPrev);},dismiss:function(event){if(el.$currentMessage.length===0){return;}
var data={action:'wp_mail_smtp_notification_dismiss',nonce:wp_mail_smtp.nonce,id:el.$currentMessage.data('message-id'),};$.post(ajaxurl,data,function(response){if(!response.success){return;}
var count=parseInt(el.$adminBarCounter.text(),10);if(count>1){--count;el.$adminBarCounter.html('<span>'+count+'</span>');}else{el.$adminBarCounter.remove();}
var $nextMessage=el.$nextMessage.length<1?el.$prevMessage:el.$nextMessage;if($nextMessage.length===0){el.$notifications.remove();}else{el.$currentMessage.remove();$nextMessage.addClass('current');app.updateNavigation();}});},navNext:function(event){if(el.$nextButton.hasClass('disabled')){return;}
el.$currentMessage.removeClass('current');el.$nextMessage.addClass('current');app.updateNavigation();},navPrev:function(event){if(el.$prevButton.hasClass('disabled')){return;}
el.$currentMessage.removeClass('current');el.$prevMessage.addClass('current');app.updateNavigation();},updateNavigation:function(){el.$currentMessage=el.$notifications.find('.wp-mail-smtp-notifications-message.current');el.$nextMessage=el.$currentMessage.next('.wp-mail-smtp-notifications-message');el.$prevMessage=el.$currentMessage.prev('.wp-mail-smtp-notifications-message');if(el.$nextMessage.length===0){el.$nextButton.addClass('disabled');}else{el.$nextButton.removeClass('disabled');}
if(el.$prevMessage.length===0){el.$prevButton.addClass('disabled');}else{el.$prevButton.removeClass('disabled');}},};return app;}(document,window,jQuery));WPMailSMTPAdminNotifications.init();